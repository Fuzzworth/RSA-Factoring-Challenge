#!/bin/bash

# Usage function
usage() {
	echo "Usage: $0 <file>"
	echo "  <file>  File containing positive integers (one per line)"
}

# Check if file parameter is provided and exists
if [ -z "$1" ] || [ ! -f "$1" ]; then
	usage
	exit 1
fi

# Read the file line by line
filename="$1"
while IFS= read -r number; do
	result=$(factor "$number")
	first_num=$(echo $result | tr -d ":" | cut -d " " -f 1 | tr -d " ")
	second_num=$(echo $result | tr ":" "=" | cut -d " " -f 2 | tr -d " ")
	echo "$first_num=$((first_num / $second_num))*$second_num"
done < "$filename"
